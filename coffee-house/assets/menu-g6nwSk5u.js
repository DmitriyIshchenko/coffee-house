var h=Object.defineProperty;var f=(a,d,e)=>d in a?h(a,d,{enumerable:!0,configurable:!0,writable:!0,value:e}):a[d]=e;var n=(a,d,e)=>(f(a,typeof d!="symbol"?d+"":d,e),e);import{V as t}from"./controller-2v_w6-jc.js";const z=[{name:"Irish coffee",id:"coffee-1",description:"Fragrant black coffee with Jameson Irish whiskey and whipped milk",price:"7.00",category:"coffee",sizes:{s:{size:"200 ml","add-price":"0.00"},m:{size:"300 ml","add-price":"0.50"},l:{size:"400 ml","add-price":"1.00"}},additives:[{name:"Sugar","add-price":"0.50"},{name:"Cinnamon","add-price":"0.50"},{name:"Syrup","add-price":"0.50"}]},{name:"Kahlua coffee",id:"coffee-2",description:"Classic coffee with milk and Kahlua liqueur under a cap of frothed milk",price:"7.00",category:"coffee",sizes:{s:{size:"200 ml","add-price":"0.00"},m:{size:"300 ml","add-price":"0.50"},l:{size:"400 ml","add-price":"1.00"}},additives:[{name:"Sugar","add-price":"0.50"},{name:"Cinnamon","add-price":"0.50"},{name:"Syrup","add-price":"0.50"}]},{name:"Honey raf",id:"coffee-3",description:"Espresso with frothed milk, cream and aromatic honey",price:"5.50",category:"coffee",sizes:{s:{size:"200 ml","add-price":"0.00"},m:{size:"300 ml","add-price":"0.50"},l:{size:"400 ml","add-price":"1.00"}},additives:[{name:"Sugar","add-price":"0.50"},{name:"Cinnamon","add-price":"0.50"},{name:"Syrup","add-price":"0.50"}]},{name:"Ice cappuccino",id:"coffee-4",description:"Cappuccino with soft thick foam in summer version with ice",price:"5.00",category:"coffee",sizes:{s:{size:"200 ml","add-price":"0.00"},m:{size:"300 ml","add-price":"0.50"},l:{size:"400 ml","add-price":"1.00"}},additives:[{name:"Sugar","add-price":"0.50"},{name:"Cinnamon","add-price":"0.50"},{name:"Syrup","add-price":"0.50"}]},{name:"Espresso",id:"coffee-5",description:"Classic black coffee",price:"4.50",category:"coffee",sizes:{s:{size:"200 ml","add-price":"0.00"},m:{size:"300 ml","add-price":"0.50"},l:{size:"400 ml","add-price":"1.00"}},additives:[{name:"Sugar","add-price":"0.50"},{name:"Cinnamon","add-price":"0.50"},{name:"Syrup","add-price":"0.50"}]},{name:"Latte",id:"coffee-6",description:"Espresso coffee with the addition of steamed milk and dense milk foam",price:"5.50",category:"coffee",sizes:{s:{size:"200 ml","add-price":"0.00"},m:{size:"300 ml","add-price":"0.50"},l:{size:"400 ml","add-price":"1.00"}},additives:[{name:"Sugar","add-price":"0.50"},{name:"Cinnamon","add-price":"0.50"},{name:"Syrup","add-price":"0.50"}]},{name:"Latte macchiato",id:"coffee-7",description:"Espresso with frothed milk and chocolate",price:"5.50",category:"coffee",sizes:{s:{size:"200 ml","add-price":"0.00"},m:{size:"300 ml","add-price":"0.50"},l:{size:"400 ml","add-price":"1.00"}},additives:[{name:"Sugar","add-price":"0.50"},{name:"Cinnamon","add-price":"0.50"},{name:"Syrup","add-price":"0.50"}]},{name:"Coffee with cognac",id:"coffee-8",description:"Fragrant black coffee with cognac and whipped cream",price:"6.50",category:"coffee",sizes:{s:{size:"200 ml","add-price":"0.00"},m:{size:"300 ml","add-price":"0.50"},l:{size:"400 ml","add-price":"1.00"}},additives:[{name:"Sugar","add-price":"0.50"},{name:"Cinnamon","add-price":"0.50"},{name:"Syrup","add-price":"0.50"}]},{name:"Moroccan",id:"tea-1",description:"Fragrant black tea with the addition of tangerine, cinnamon, honey, lemon and mint",price:"4.50",category:"tea",sizes:{s:{size:"200 ml","add-price":"0.00"},m:{size:"300 ml","add-price":"0.50"},l:{size:"400 ml","add-price":"1.00"}},additives:[{name:"Sugar","add-price":"0.50"},{name:"Lemon","add-price":"0.50"},{name:"Syrup","add-price":"0.50"}]},{name:"Ginger",id:"tea-2",description:"Original black tea with fresh ginger, lemon and honey",price:"5.00",category:"tea",sizes:{s:{size:"200 ml","add-price":"0.00"},m:{size:"300 ml","add-price":"0.50"},l:{size:"400 ml","add-price":"1.00"}},additives:[{name:"Sugar","add-price":"0.50"},{name:"Lemon","add-price":"0.50"},{name:"Syrup","add-price":"0.50"}]},{name:"Cranberry",id:"tea-3",description:"Invigorating black tea with cranberry and honey",price:"5.00",category:"tea",sizes:{s:{size:"200 ml","add-price":"0.00"},m:{size:"300 ml","add-price":"0.50"},l:{size:"400 ml","add-price":"1.00"}},additives:[{name:"Sugar","add-price":"0.50"},{name:"Lemon","add-price":"0.50"},{name:"Syrup","add-price":"0.50"}]},{name:"Sea buckthorn",id:"tea-4",description:"Toning sweet black tea with sea buckthorn, fresh thyme and cinnamon",price:"5.50",category:"tea",sizes:{s:{size:"200 ml","add-price":"0.00"},m:{size:"300 ml","add-price":"0.50"},l:{size:"400 ml","add-price":"1.00"}},additives:[{name:"Sugar","add-price":"0.50"},{name:"Lemon","add-price":"0.50"},{name:"Syrup","add-price":"0.50"}]},{name:"Marble cheesecake",id:"dessert-1",description:"Philadelphia cheese with lemon zest on a light sponge cake and red currant jam",price:"3.50",category:"dessert",sizes:{s:{size:"50 g","add-price":"0.00"},m:{size:"100 g","add-price":"0.50"},l:{size:"200 g","add-price":"1.00"}},additives:[{name:"Berries","add-price":"0.50"},{name:"Nuts","add-price":"0.50"},{name:"Jam","add-price":"0.50"}]},{name:"Red velvet",id:"dessert-2",description:"Layer cake with cream cheese frosting",price:"4.00",category:"dessert",sizes:{s:{size:"50 g","add-price":"0.00"},m:{size:"100 g","add-price":"0.50"},l:{size:"200 g","add-price":"1.00"}},additives:[{name:"Berries","add-price":"0.50"},{name:"Nuts","add-price":"0.50"},{name:"Jam","add-price":"0.50"}]},{name:"Cheesecakes",id:"dessert-3",description:"Soft cottage cheese pancakes with sour cream and fresh berries and sprinkled with powdered sugar",price:"4.50",category:"dessert",sizes:{s:{size:"50 g","add-price":"0.00"},m:{size:"100 g","add-price":"0.50"},l:{size:"200 g","add-price":"1.00"}},additives:[{name:"Berries","add-price":"0.50"},{name:"Nuts","add-price":"0.50"},{name:"Jam","add-price":"0.50"}]},{name:"Creme brulee",id:"dessert-4",description:"Delicate creamy dessert in a caramel basket with wild berries",price:"4.00",category:"dessert",sizes:{s:{size:"50 g","add-price":"0.00"},m:{size:"100 g","add-price":"0.50"},l:{size:"200 g","add-price":"1.00"}},additives:[{name:"Berries","add-price":"0.50"},{name:"Nuts","add-price":"0.50"},{name:"Jam","add-price":"0.50"}]},{name:"Pancakes",id:"dessert-5",description:"Tender pancakes with strawberry jam and fresh strawberries",price:"4.50",category:"dessert",sizes:{s:{size:"50 g","add-price":"0.00"},m:{size:"100 g","add-price":"0.50"},l:{size:"200 g","add-price":"1.00"}},additives:[{name:"Berries","add-price":"0.50"},{name:"Nuts","add-price":"0.50"},{name:"Jam","add-price":"0.50"}]},{name:"Honey cake",id:"dessert-6",description:"Classic honey cake with delicate custard",price:"4.50",category:"dessert",sizes:{s:{size:"50 g","add-price":"0.00"},m:{size:"100 g","add-price":"0.50"},l:{size:"200 g","add-price":"1.00"}},additives:[{name:"Berries","add-price":"0.50"},{name:"Nuts","add-price":"0.50"},{name:"Jam","add-price":"0.50"}]},{name:"Chocolate cake",id:"dessert-7",description:"Cake with hot chocolate filling and nuts with dried apricots",price:"5.50",category:"dessert",sizes:{s:{size:"50 g","add-price":"0.00"},m:{size:"100 g","add-price":"0.50"},l:{size:"200 g","add-price":"1.00"}},additives:[{name:"Berries","add-price":"0.50"},{name:"Nuts","add-price":"0.50"},{name:"Jam","add-price":"0.50"}]},{name:"Black forest",id:"dessert-8",description:"A combination of thin sponge cake with cherry jam and light chocolate mousse",price:"6.50",category:"dessert",sizes:{s:{size:"50 g","add-price":"0.00"},m:{size:"100 g","add-price":"0.50"},l:{size:"200 g","add-price":"1.00"}},additives:[{name:"Berries","add-price":"0.50"},{name:"Nuts","add-price":"0.50"},{name:"Jam","add-price":"0.50"}]}],s={menuData:z,currentCategory:"coffee",isFullMenuDisplayed:!0,modalItem:{}};function m(){const a=s.menuData.filter(d=>d.category===s.currentCategory);return s.isFullMenuDisplayed?a:a.slice(0,4)}function _(a){s.currentCategory=a}function u(a){s.isFullMenuDisplayed=a}function y(){s.isFullMenuDisplayed=!0}function w(a){s.modalItem=s.menuData.find(d=>d.id===a)}class v extends t{constructor(){super(...arguments);n(this,"_parentEl",document.querySelector(".modal"));n(this,"_menu",document.querySelector(".menu__items"))}addHandlerToggleModal(e){this._menu.addEventListener("click",i=>{const r=i.target.closest(".card");r&&(e(r.id),this._parentEl.showModal())}),this._parentEl.addEventListener("click",i=>{i.target==this._parentEl&&this._parentEl.close()})}}const b=new v;class k extends t{_generateMarkup(){return`
      <article class="card" id=${this._data.id}>
        <div class="card__img-box">
          <img src="src/imgs/${this._data.id}.webp" alt="${this._data.name}">
        </div>
        <div class="card__info">
          <h3 class="heading-3 card__title">${this._data.name}</h3>
          <p class="card__description">${this._data.description}</p>
          <p class="card__price heading-3">$${this._data.price}</p>
        </div>
      </article>
    `}}const S=new k;class M extends t{constructor(){super(...arguments);n(this,"_parentEl",document.querySelector(".menu__items"))}addHandlerChangeScreenSize(e){[window.matchMedia("(max-width: 768px)"),window.matchMedia("(min-width: 768px)")].forEach(r=>r.addEventListener("change",c=>{c.matches&&e(this._isBigScreen())})),window.addEventListener("load",()=>{e(this._isBigScreen())})}_generateMarkup(){return this._data.map(e=>S.render(e,!1)).join("")}}const p=new M;class C extends t{constructor(){super(...arguments);n(this,"_parentEl",document.querySelector(".menu__tabs"))}addHandlerChangeTab(e){this._parentEl.addEventListener("change",i=>{e(i.target.value,this._isBigScreen())})}}const E=new C;class $ extends t{constructor(){super(...arguments);n(this,"_parentEl",document.querySelector(".menu__load"))}addHandlerRefreshMenu(e){this._parentEl.addEventListener("click",i=>{i.target.closest(".btn-icon")&&e()})}_generateMarkup(){const{isFullMenuDisplayed:e,currentCategory:i}=this._data;return e||i==="tea"?"":`
      <button class="btn-icon">
        <svg>
          <use href="src/imgs/sprite.svg#refresh"></use>
        </svg>
      </button>
    `}}const o=new $;class L extends t{constructor(){super();n(this,"_parentEl",document.querySelector(".order"));this._parentEl.addEventListener("change",()=>this._updatePrice())}_updatePrice(){const e=this._parentEl.querySelector(".order__price"),r=[...this._parentEl.querySelectorAll("input:checked")].reduce((c,l)=>c+Number(l.value),0);e.textContent=`$${(+this._data.price+r).toFixed(2)}`}_generateMarkup(){const{id:e,name:i,description:r,sizes:c,additives:l,price:g}=this._data;return`
    <div class="order__img-box">
      <img src="src/imgs/${e}.webp" alt="${i}">
    </div>

    <div class="order__info">
      <div>
        <h3 class="order__title heading-3">${i}</h3>
        <p class="order__description">${r}</p>
      </div>

      <fieldset class="order__field">
        <legend>Size</legend>

        ${this._generateSizesMarkup(c)}
      </fieldset>

      <fieldset class="order__field">
        <legend>Additives</legend>

        ${this._generateAdditivesMarkup(l)}
      </fieldset>

      <p class="order__total heading-3">
        <span>Total:</span>
        <span class="order__price">$${g}</span>
      </p>

      <p class="order__warning text-caption">
        <svg>
          <use href="src/imgs/sprite.svg#info-empty"></use>
        </svg>
        <span>The cost is not final. Download our mobile app to see the final price and place your order. Earn
          loyalty points and enjoy your favorite coffee with up to 20% discount.</span>
      </p>
    </div>
    `}_generateSizesMarkup(e){return Object.keys(e).map((i,r)=>`        
        <label for="size-${i}" class="btn-tab">
          <input type="radio" id="size-${i}" name="size" value=${e[i]["add-price"]} hidden ${r===0&&"checked"} />
          <span class="btn-tab__icon">${i.toUpperCase()}</span>
          <span>${e[i].size}</span>
        </label>
      `).join("")}_generateAdditivesMarkup(e){return e.map((i,r)=>` 
      <label for="additive-${r+1}" class="btn-tab">
        <input type="checkbox" id="additive-${r+1}" name="additive" value=${i["add-price"]} hidden />
        <span class="btn-tab__icon">${r+1}</span>
        <span>${i.name}</span>
      </label>
      `).join("")}}const V=new L,x=a=>{w(a),V.render(s.modalItem)},T=(a,d)=>{_(a),u(d),p.render(m()),o.render(s)},B=a=>{u(a),p.render(m()),o.render(s)},q=()=>{y(),p.render(m()),o.render(s)};function D(){p.render(m()),o.render(s),b.addHandlerToggleModal(x),E.addHandlerChangeTab(T),p.addHandlerChangeScreenSize(B),o.addHandlerRefreshMenu(q)}D();
