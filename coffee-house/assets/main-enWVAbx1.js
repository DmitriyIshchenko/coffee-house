var a=Object.defineProperty;var o=(i,s,e)=>s in i?a(i,s,{enumerable:!0,configurable:!0,writable:!0,value:e}):i[s]=e;var t=(i,s,e)=>(o(i,typeof s!="symbol"?s+"":s,e),e);import{V as c}from"./controller-2v_w6-jc.js";class _ extends c{constructor(){super();t(this,"_parentEl",document.querySelector(".carousel"));t(this,"_window",this._parentEl.querySelector(".carousel__window"));t(this,"_inner",this._parentEl.querySelector(".carousel__inner"));t(this,"_currentSlide",0);t(this,"_touchstart",0);t(this,"_touchend",0);t(this,"_timer");t(this,"_isPaused",!1);this._parentEl.addEventListener("click",e=>{const r=e.target.closest(".btn-icon");if(!r)return;const{direction:n}=r.dataset;n==="prev"?this._moveLeft():this._moveRight()}),this._window.addEventListener("touchstart",e=>{this._touchstart=e.changedTouches[0].screenX,this._isPaused=!0,this._toggleAnimation(),e.preventDefault()}),this._window.addEventListener("touchend",e=>{this._touchend=e.changedTouches[0].screenX,this._isPaused=!1,this._toggleAnimation(),this._checkSwipe()}),this._window.addEventListener("mouseover",e=>{e.sourceCapabilities.firesTouchEvents||(this._isPaused=!0,this._toggleAnimation())}),this._window.addEventListener("mouseleave",e=>{this._isPaused=!1,this._toggleAnimation()}),document.querySelector(".carousel__bars").addEventListener("animationend",e=>{this._moveRight()})}_toggleAnimation(){const e=document.querySelector(".carousel__bar--active span");e.style.animationPlayState=this._isPaused?"paused":"running"}_checkSwipe(){this._touchstart-this._touchend>30&&this._moveRight(),this._touchstart-this._touchend<-30&&this._moveLeft()}_moveLeft(){this._currentSlide===0?this._currentSlide=2:this._currentSlide--,this._inner.style.transform=`translateX(${-100*this._currentSlide}%)`,this._updateBars()}_moveRight(){this._currentSlide===2?this._currentSlide=0:this._currentSlide++,this._inner.style.transform=`translateX(${-100*this._currentSlide}%)`,this._updateBars()}_updateBars(){const e=[...document.querySelectorAll(".carousel__bar")];e.forEach(r=>r.classList.remove("carousel__bar--active")),e[this._currentSlide].classList.add("carousel__bar--active")}}new _;
